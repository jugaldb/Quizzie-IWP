const Immutable = require('immutable');
const { fromJS } = Immutable;

const optionsKeys = ['status', 'retailerName'];

const currentSearch = fromJS({
  pageSize: 2,
  status: 'Unpaid',
  retailerName: 'Collins',
});


const options = fromJS([
  {
    id: 0,
    value: 'retailerName',
    display: 'Customer',
  },
  {
    id: 1,
    value: 'status',
    display: 'Status',
  },
  {
    id: 2,
    value: 'orderNumber',
    display: 'Number',
  },
]);

const combos = Immutable.List();

const filteredOptions = options.filter(option => currentSearch.has(option.get('value')));

const magic = filteredOptions.reduce((result, option, index, original) => {
  const combo = Immutable.Map()
    .set('filter', original.get(index))
    .set('search', currentSearch.get(option.get('value')));
  return result.push(combo);
}, combos);

console.log('magic:', magic);
