{"ast":null,"code":"var _jsxFileName = \"/home/jugaldb/Desktop/projects/IWP/src/pages/OwnerDashboard.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Container, Typography, AppBar, Tabs, Tab } from \"@material-ui/core\";\nimport \"./Dashboard.css\";\nimport \"./OwnerDashboard.css\";\nimport InfoContext from '../context/InfoContext';\nimport { Redirect } from \"react-router\";\nimport Loading from \"./Loading\";\nimport axios from \"axios\";\nimport '../components/ProfileSection';\nimport OwnerQuizzes from \"../components/OwnerQuizzes\";\nimport OwnerUsers from \"../components/OwnerUsers\";\nimport OwnerOrganizers from \"../components/OwnerOrganizers\";\n\nfunction OwnerDashboard() {\n  const [tab, setTab] = useState(0);\n  const [redirect, setRedirect] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [refresh, setRefresh] = useState(false);\n  const {\n    isLoggedIn\n  } = useContext(InfoContext);\n\n  const handleTabChange = (e, newVal) => {\n    setTab(newVal);\n  };\n\n  const validate = async () => {\n    let token = localStorage.getItem(\"authToken\");\n    let url = \"https://quizzie-api.herokuapp.com/general/checkUser\";\n\n    try {\n      await axios.get(url, {\n        headers: {\n          \"auth-token\": token\n        }\n      }).then(res => {\n        if (res.data.result.userType !== \"Owner\") {\n          setRedirect(true);\n          return;\n        } else {\n          setLoading(false);\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    validate();\n  }, []);\n  useEffect(() => {\n    if (refresh === true) {}\n  }, [refresh]);\n\n  if (redirect) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 4\n      }\n    });\n  } else if (loading) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 4\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(Container, {\n      className: \"dashboard-page owner-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      className: \"dash-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }, \"Owner Dashboard\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      position: \"static\",\n      color: \"default\",\n      className: \"bg-white tab-bar owner-tab\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Tabs, {\n      value: tab,\n      onChange: handleTabChange,\n      indicatorColor: \"primary\",\n      textColor: \"primary\",\n      variant: \"fullWidth\",\n      \"aria-label\": \"full width tabs owner-dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Tab, {\n      label: \"All Quizzes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      label: \"All User\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      label: \"All Organizer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 8\n      }\n    }))), /*#__PURE__*/React.createElement(TabPanel, {\n      value: tab,\n      index: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(OwnerQuizzes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(TabPanel, {\n      value: tab,\n      index: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(OwnerUsers, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(TabPanel, {\n      value: tab,\n      index: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(OwnerOrganizers, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }))));\n  }\n}\n\nexport default OwnerDashboard;\n\nfunction TabPanel(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    role: \"tabpanel\",\n    hidden: props.value !== props.index,\n    id: `simple-tabpanel-${props.index}`,\n    \"aria-labelledby\": `simple-tab-${props.index}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 4\n    }\n  }, props.children));\n}","map":{"version":3,"sources":["/home/jugaldb/Desktop/projects/IWP/src/pages/OwnerDashboard.js"],"names":["React","useState","useContext","useEffect","Container","Typography","AppBar","Tabs","Tab","InfoContext","Redirect","Loading","axios","OwnerQuizzes","OwnerUsers","OwnerOrganizers","OwnerDashboard","tab","setTab","redirect","setRedirect","loading","setLoading","refresh","setRefresh","isLoggedIn","handleTabChange","e","newVal","validate","token","localStorage","getItem","url","get","headers","then","res","data","result","userType","error","console","log","TabPanel","props","value","index","children"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from \"react\";\r\nimport { Container, Typography, AppBar, Tabs, Tab } from \"@material-ui/core\";\r\nimport \"./Dashboard.css\";\r\nimport \"./OwnerDashboard.css\";\r\nimport InfoContext from '../context/InfoContext';\r\nimport { Redirect } from \"react-router\";\r\nimport Loading from \"./Loading\";\r\nimport axios from \"axios\";\r\nimport '../components/ProfileSection';\r\nimport OwnerQuizzes from \"../components/OwnerQuizzes\";\r\nimport OwnerUsers from \"../components/OwnerUsers\";\r\nimport OwnerOrganizers from \"../components/OwnerOrganizers\";\r\n\r\nfunction OwnerDashboard() {\r\n\tconst [tab, setTab] = useState(0);\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\tconst [refresh, setRefresh] = useState(false);\r\n\r\n\tconst {isLoggedIn} = useContext(InfoContext);\r\n\r\n\tconst handleTabChange = (e, newVal) => {\r\n\t\tsetTab(newVal);\r\n\t}\r\n\r\n\tconst validate = async () => {\r\n\t\tlet token = localStorage.getItem(\"authToken\");\r\n\t\tlet url = \"https://quizzie-api.herokuapp.com/general/checkUser\";\r\n\r\n\t\ttry {\r\n\t\t\tawait axios.get(url, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"auth-token\": token\r\n\t\t\t\t}\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif(res.data.result.userType !== \"Owner\") {\r\n\t\t\t\t\tsetRedirect(true);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t}) \r\n\t\t} catch(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tvalidate();\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(refresh === true) {\r\n\t\t}\r\n\t}, [refresh])\r\n\r\n\tif(redirect) {\r\n\t\treturn (\r\n\t\t\t<Redirect to=\"/\" />\r\n\t\t)\r\n\t} else if(loading) {\r\n\t\treturn (\r\n\t\t\t<Loading />\r\n\t\t)\r\n\t}\r\n\telse {\r\n\t\treturn (\r\n\t\t\t<Container className=\"dashboard-page owner-page\">\r\n\t\t\t\t<Typography variant=\"h4\" className=\"dash-head\">Owner Dashboard</Typography>\r\n\t\t\t\t<div className=\"dash-section\">\r\n\t\t\t\t\t<AppBar position=\"static\" color=\"default\" className=\"bg-white tab-bar owner-tab\">\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tab}\r\n\t\t\t\t\t\t\tonChange={handleTabChange}\r\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t\tvariant=\"fullWidth\"\r\n\t\t\t\t\t\t\taria-label=\"full width tabs owner-dashboard\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label=\"All Quizzes\" />\r\n\t\t\t\t\t\t\t<Tab label=\"All User\" />\r\n\t\t\t\t\t\t\t<Tab label=\"All Organizer\" />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<TabPanel value={tab} index={0}>\r\n\t\t\t\t\t\t<OwnerQuizzes />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t<TabPanel value={tab} index={1}>\r\n\t\t\t\t\t\t<OwnerUsers />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t<TabPanel value={tab} index={2}>\r\n\t\t\t\t\t\t<OwnerOrganizers />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t</div>\r\n\t\t\t</Container>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default OwnerDashboard;\r\n\r\nfunction TabPanel(props) {\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={props.value !== props.index}\r\n\t\t\tid={`simple-tabpanel-${props.index}`}\r\n\t\t\taria-labelledby={`simple-tab-${props.index}`}\r\n\t\t>\r\n\t\t\t<div>{props.children}</div>\r\n\t\t</div>\r\n\t)\r\n}"]},"metadata":{},"sourceType":"module"}